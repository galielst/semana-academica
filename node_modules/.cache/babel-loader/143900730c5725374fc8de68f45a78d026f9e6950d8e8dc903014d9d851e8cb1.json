{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Home\\\\Documents\\\\registro-de-eventos\\\\src\\\\components\\\\Admin\\\\AdminArea.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { supabase } from \"../../supabaseClient\";\nimport Card from \"../ui/Card\";\nimport Button from \"../ui/Button\";\nimport AdminEventos from \"./AdminEventos\";\nimport CheckInScanner from \"./CheckInScanner\";\nimport ExportListas from \"./ExportListas\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminArea() {\n  _s();\n  const [tab, setTab] = useState(\"eventos\"); // eventos | checkin | export | llenos\n  const [message, setMessage] = useState(null);\n\n  // üëâ Funci√≥n para registrar asistencia\n  async function registrarAsistencia(payload) {\n    try {\n      const {\n        reg_id\n      } = JSON.parse(payload); // el QR trae { reg_id, event_id }\n\n      const {\n        error\n      } = await supabase.from(\"attendance\").insert({\n        registration_id: reg_id\n      });\n      if (error) throw error;\n      setMessage(\"‚úÖ Asistencia registrada con √©xito\");\n      setTimeout(() => setMessage(null), 3000);\n    } catch (err) {\n      console.error(err);\n      setMessage(\"‚ùå Error al registrar asistencia\");\n      setTimeout(() => setMessage(null), 3000);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setTab(\"eventos\"),\n        children: \"Eventos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setTab(\"checkin\"),\n        children: \"Check-in (QR)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setTab(\"export\"),\n        children: \"Listas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setTab(\"llenos\"),\n        children: \"Eventos Llenos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), tab === \"eventos\" && /*#__PURE__*/_jsxDEV(AdminEventos, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }, this), tab === \"checkin\" && /*#__PURE__*/_jsxDEV(CheckInScanner, {\n      onResult: registrarAsistencia\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }, this), tab === \"export\" && /*#__PURE__*/_jsxDEV(ExportListas, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 28\n    }, this), tab === \"llenos\" && /*#__PURE__*/_jsxDEV(AdminEventos, {\n      filterFull: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 28\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12,\n        padding: 12,\n        background: \"#f3f4f6\",\n        borderRadius: 8,\n        fontSize: 14\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminArea, \"VT8PbGBpLUun/1Nx/St7rsATGeI=\");\n_c = AdminArea;\nvar _c;\n$RefreshReg$(_c, \"AdminArea\");","map":{"version":3,"names":["useState","supabase","Card","Button","AdminEventos","CheckInScanner","ExportListas","jsxDEV","_jsxDEV","AdminArea","_s","tab","setTab","message","setMessage","registrarAsistencia","payload","reg_id","JSON","parse","error","from","insert","registration_id","setTimeout","err","console","children","style","display","gap","marginBottom","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onResult","filterFull","marginTop","padding","background","borderRadius","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/Home/Documents/registro-de-eventos/src/components/Admin/AdminArea.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { supabase } from \"../../supabaseClient\";\r\nimport Card from \"../ui/Card\";\r\nimport Button from \"../ui/Button\";\r\nimport AdminEventos from \"./AdminEventos\";\r\nimport CheckInScanner from \"./CheckInScanner\";\r\nimport ExportListas from \"./ExportListas\";\r\n\r\nexport default function AdminArea() {\r\n  const [tab, setTab] = useState(\"eventos\"); // eventos | checkin | export | llenos\r\n  const [message, setMessage] = useState(null);\r\n\r\n  // üëâ Funci√≥n para registrar asistencia\r\n  async function registrarAsistencia(payload) {\r\n    try {\r\n      const { reg_id } = JSON.parse(payload); // el QR trae { reg_id, event_id }\r\n\r\n      const { error } = await supabase\r\n        .from(\"attendance\")\r\n        .insert({ registration_id: reg_id });\r\n\r\n      if (error) throw error;\r\n\r\n      setMessage(\"‚úÖ Asistencia registrada con √©xito\");\r\n      setTimeout(() => setMessage(null), 3000);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"‚ùå Error al registrar asistencia\");\r\n      setTimeout(() => setMessage(null), 3000);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      {/* Tabs */}\r\n      <div style={{ display: \"flex\", gap: 8, marginBottom: 8 }}>\r\n        <Button onClick={() => setTab(\"eventos\")}>Eventos</Button>\r\n        <Button onClick={() => setTab(\"checkin\")}>Check-in (QR)</Button>\r\n        <Button onClick={() => setTab(\"export\")}>Listas</Button>\r\n        <Button onClick={() => setTab(\"llenos\")}>Eventos Llenos</Button>\r\n      </div>\r\n\r\n      {/* Contenido seg√∫n tab */}\r\n      {tab === \"eventos\" && <AdminEventos />}\r\n      {tab === \"checkin\" && <CheckInScanner onResult={registrarAsistencia} />}\r\n      {tab === \"export\" && <ExportListas />}\r\n      {tab === \"llenos\" && <AdminEventos filterFull={true} />}\r\n\r\n      {/* Mensaje temporal */}\r\n      {message && (\r\n        <div\r\n          style={{\r\n            marginTop: 12,\r\n            padding: 12,\r\n            background: \"#f3f4f6\",\r\n            borderRadius: 8,\r\n            fontSize: 14,\r\n          }}\r\n        >\r\n          {message}\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}