{"ast":null,"code":"import{useEffect,useRef}from\"react\";import QRCode from\"qrcode\";import dayjs from\"dayjs\";import utc from\"dayjs/plugin/utc\";// ðŸ”¹ Importamos el plugin UTC\nimport Badge from\"../ui/Badge\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";dayjs.extend(utc);// ðŸ”¹ Extendemos dayjs con UTC\nexport default function QRItem(_ref){let{reg}=_ref;const canvasRef=useRef(null);// Generar QR\nuseEffect(()=>{const payload=JSON.stringify({reg_id:reg.id,event_id:reg.event_id});QRCode.toCanvas(canvasRef.current,payload,{width:220});},[reg.id,reg.event_id]);// ðŸ”¹ Formateo de hora de inicio y fin usando UTC para evitar cambios de zona horaria\nconst start=dayjs.utc(reg.starts_at).format(\"DD/MM/YYYY HH:mm\");const end=reg.ends_at?dayjs.utc(reg.ends_at).format(\"HH:mm\"):null;return/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid #e5e7eb\",borderRadius:16,padding:12,background:\"#fff\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:8},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{fontWeight:700,fontSize:14},children:[reg.title,\" \",/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:12,color:\"#6b7280\"},children:[\"(\",reg.type,\")\"]})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:12,color:\"#6b7280\"},children:end?\"\".concat(start,\" - \").concat(end):start})]}),/*#__PURE__*/_jsx(Badge,{children:\"QR\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef})})]});}","map":{"version":3,"names":["useEffect","useRef","QRCode","dayjs","utc","Badge","jsxs","_jsxs","jsx","_jsx","extend","QRItem","_ref","reg","canvasRef","payload","JSON","stringify","reg_id","id","event_id","toCanvas","current","width","start","starts_at","format","end","ends_at","style","border","borderRadius","padding","background","children","display","justifyContent","alignItems","marginBottom","fontWeight","fontSize","title","color","type","concat","ref"],"sources":["C:/Users/Home/Documents/registro-de-eventos/src/components/Alumno/QRItem.jsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport QRCode from \"qrcode\";\r\nimport dayjs from \"dayjs\";\r\nimport utc from \"dayjs/plugin/utc\"; // ðŸ”¹ Importamos el plugin UTC\r\nimport Badge from \"../ui/Badge\";\r\n\r\ndayjs.extend(utc); // ðŸ”¹ Extendemos dayjs con UTC\r\n\r\nexport default function QRItem({ reg }) {\r\n  const canvasRef = useRef(null);\r\n\r\n  // Generar QR\r\n  useEffect(() => {\r\n    const payload = JSON.stringify({\r\n      reg_id: reg.id,\r\n      event_id: reg.event_id,\r\n    });\r\n    QRCode.toCanvas(canvasRef.current, payload, { width: 220 });\r\n  }, [reg.id, reg.event_id]);\r\n\r\n  // ðŸ”¹ Formateo de hora de inicio y fin usando UTC para evitar cambios de zona horaria\r\n  const start = dayjs.utc(reg.starts_at).format(\"DD/MM/YYYY HH:mm\");\r\n  const end = reg.ends_at ? dayjs.utc(reg.ends_at).format(\"HH:mm\") : null;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        border: \"1px solid #e5e7eb\",\r\n        borderRadius: 16,\r\n        padding: 12,\r\n        background: \"#fff\",\r\n      }}\r\n    >\r\n      {/* Encabezado */}\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          marginBottom: 8,\r\n        }}\r\n      >\r\n        <div>\r\n          <p style={{ fontWeight: 700, fontSize: 14 }}>\r\n            {reg.title}{\" \"}\r\n            <span style={{ fontSize: 12, color: \"#6b7280\" }}>({reg.type})</span>\r\n          </p>\r\n          <p style={{ fontSize: 12, color: \"#6b7280\" }}>\r\n            {end ? `${start} - ${end}` : start}\r\n          </p>\r\n        </div>\r\n        <Badge>QR</Badge>\r\n      </div>\r\n\r\n      {/* QR */}\r\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <canvas ref={canvasRef} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CACzC,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,GAAG,KAAM,kBAAkB,CAAE;AACpC,MAAO,CAAAC,KAAK,KAAM,aAAa,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhCN,KAAK,CAACO,MAAM,CAACN,GAAG,CAAC,CAAE;AAEnB,cAAe,SAAS,CAAAO,MAAMA,CAAAC,IAAA,CAAU,IAAT,CAAEC,GAAI,CAAC,CAAAD,IAAA,CACpC,KAAM,CAAAE,SAAS,CAAGb,MAAM,CAAC,IAAI,CAAC,CAE9B;AACAD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,OAAO,CAAGC,IAAI,CAACC,SAAS,CAAC,CAC7BC,MAAM,CAAEL,GAAG,CAACM,EAAE,CACdC,QAAQ,CAAEP,GAAG,CAACO,QAChB,CAAC,CAAC,CACFlB,MAAM,CAACmB,QAAQ,CAACP,SAAS,CAACQ,OAAO,CAAEP,OAAO,CAAE,CAAEQ,KAAK,CAAE,GAAI,CAAC,CAAC,CAC7D,CAAC,CAAE,CAACV,GAAG,CAACM,EAAE,CAAEN,GAAG,CAACO,QAAQ,CAAC,CAAC,CAE1B;AACA,KAAM,CAAAI,KAAK,CAAGrB,KAAK,CAACC,GAAG,CAACS,GAAG,CAACY,SAAS,CAAC,CAACC,MAAM,CAAC,kBAAkB,CAAC,CACjE,KAAM,CAAAC,GAAG,CAAGd,GAAG,CAACe,OAAO,CAAGzB,KAAK,CAACC,GAAG,CAACS,GAAG,CAACe,OAAO,CAAC,CAACF,MAAM,CAAC,OAAO,CAAC,CAAG,IAAI,CAEvE,mBACEnB,KAAA,QACEsB,KAAK,CAAE,CACLC,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,EAAE,CAChBC,OAAO,CAAE,EAAE,CACXC,UAAU,CAAE,MACd,CAAE,CAAAC,QAAA,eAGF3B,KAAA,QACEsB,KAAK,CAAE,CACLM,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,eAAe,CAC/BC,UAAU,CAAE,QAAQ,CACpBC,YAAY,CAAE,CAChB,CAAE,CAAAJ,QAAA,eAEF3B,KAAA,QAAA2B,QAAA,eACE3B,KAAA,MAAGsB,KAAK,CAAE,CAAEU,UAAU,CAAE,GAAG,CAAEC,QAAQ,CAAE,EAAG,CAAE,CAAAN,QAAA,EACzCrB,GAAG,CAAC4B,KAAK,CAAE,GAAG,cACflC,KAAA,SAAMsB,KAAK,CAAE,CAAEW,QAAQ,CAAE,EAAE,CAAEE,KAAK,CAAE,SAAU,CAAE,CAAAR,QAAA,EAAC,GAAC,CAACrB,GAAG,CAAC8B,IAAI,CAAC,GAAC,EAAM,CAAC,EACnE,CAAC,cACJlC,IAAA,MAAGoB,KAAK,CAAE,CAAEW,QAAQ,CAAE,EAAE,CAAEE,KAAK,CAAE,SAAU,CAAE,CAAAR,QAAA,CAC1CP,GAAG,IAAAiB,MAAA,CAAMpB,KAAK,QAAAoB,MAAA,CAAMjB,GAAG,EAAKH,KAAK,CACjC,CAAC,EACD,CAAC,cACNf,IAAA,CAACJ,KAAK,EAAA6B,QAAA,CAAC,IAAE,CAAO,CAAC,EACd,CAAC,cAGNzB,IAAA,QAAKoB,KAAK,CAAE,CAAEM,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAS,CAAE,CAAAF,QAAA,cACxDzB,IAAA,WAAQoC,GAAG,CAAE/B,SAAU,CAAE,CAAC,CACvB,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}